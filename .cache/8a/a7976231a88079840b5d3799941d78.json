{"id":"components/map.utils.js","dependencies":[{"name":"/srv/atlas/atlas-web/package.json","includedInParent":true,"mtime":1589460883313},{"name":"mapbox-gl","loc":{"line":1,"column":21},"parent":"/srv/atlas/atlas-web/src/components/map.utils.js","resolved":"/srv/atlas/atlas-web/node_modules/mapbox-gl/dist/mapbox-gl.js"},{"name":"@mapbox/mapbox-gl-geocoder","loc":{"line":2,"column":27},"parent":"/srv/atlas/atlas-web/src/components/map.utils.js","resolved":"/srv/atlas/atlas-web/node_modules/@mapbox/mapbox-gl-geocoder/lib/index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addLayer = exports.addControls = exports.defaultConfig = exports.mapStyles = void 0;\n\nvar _mapboxGl = _interopRequireDefault(require(\"mapbox-gl\"));\n\nvar _mapboxGlGeocoder = _interopRequireDefault(require(\"@mapbox/mapbox-gl-geocoder\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst mapStyles = ['mapbox://styles/mapbox/streets-v11', 'mapbox://styles/mapbox/outdoors-v11', 'mapbox://styles/mapbox/light-v10', 'mapbox://styles/mapbox/dark-v10', 'mapbox://styles/mapbox/satellite-v9', 'mapbox://styles/mapbox/satellite-streets-v11', 'mapbox://styles/mapbox/navigation-preview-day-v4', 'mapbox://styles/mapbox/navigation-preview-night-v4', 'mapbox://styles/mapbox/navigation-guidance-day-v4', 'mapbox://styles/mapbox/navigation-guidance-night-v4'];\nexports.mapStyles = mapStyles;\nconst defaultConfig = {\n  accessToken: \"pk.eyJ1IjoiZXh6ZW8iLCJhIjoidHFyZi01VSJ9.p8Dy3U9rVv7XkE2VNGUB8g\",\n  style: mapStyles[8],\n  center: [-81.5158, 27.6648],\n  zoom: 7,\n  pitch: 35,\n  bearing: 0\n};\nexports.defaultConfig = defaultConfig;\n\nconst addControls = mapbox => {\n  mapbox.addControl(new _mapboxGl.default.NavigationControl(), 'bottom-right');\n  mapbox.addControl(new _mapboxGl.default.GeolocateControl({\n    positionOptions: {\n      enableHighAccuracy: true\n    },\n    trackUserLocation: true\n  }), 'bottom-right');\n  const geocoder = new _mapboxGlGeocoder.default({\n    mapboxgl: _mapboxGl.default,\n    accessToken: \"pk.eyJ1IjoiZXh6ZW8iLCJhIjoidHFyZi01VSJ9.p8Dy3U9rVv7XkE2VNGUB8g\",\n    country: 'us',\n    bbox: [-87.63, 24.4, -79.97, 31.0],\n    state: 'fl',\n    marker: true\n  });\n  mapbox.addControl(geocoder, 'bottom-left');\n};\n\nexports.addControls = addControls;\n\nconst addLayer = (map, userId, layer) => {\n  const {\n    _id,\n    url\n  } = layer;\n  const source = `${\"http://localhost:8787/api\"}/geojson/${userId}/${_id}`;\n  map.addSource(_id, {\n    type: 'geojson',\n    data: source,\n    buffer: 32\n  });\n  map.addLayer({\n    id: `${_id}`,\n    type: 'circle',\n    source: _id,\n    layout: {\n      visibility: 'visible'\n    },\n    paint: {\n      'circle-radius': 7,\n      'circle-color': ['get', 'status_color']\n    }\n  });\n};\n\nexports.addLayer = addLayer;"},"sourceMaps":null,"error":null,"hash":"a4ef02af516a5fd176054dc9393bf841","cacheData":{"env":{"MAPBOX_KEY":"pk.eyJ1IjoiZXh6ZW8iLCJhIjoidHFyZi01VSJ9.p8Dy3U9rVv7XkE2VNGUB8g","API_URL":"http://localhost:8787/api"}}}